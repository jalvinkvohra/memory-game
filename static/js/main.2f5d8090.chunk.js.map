{"version":3,"sources":["Redux/action_types.js","Redux/Actions/Game.js","Components/Score.js","Redux/data.js","Redux/Middlewares/Game.js","Components/Grid.js","Components/Game.js","App.js","reportWebVitals.js","Redux/Middlewares/Logger.js","Redux/Reducers/Game.js","Redux/Reducers/index.js","Redux/store.js","index.js"],"names":["INIT_GAME","SET_CARDS","SET_SCORE","UPDATE_SCORE","SET_MATCHED","initGame","type","setMatched","matched","Score","score","useSelector","state","className","cards","name","path","selectedCards","matchCards","dispatch","console","log","initCards","sort","Math","random","Grid","useDispatch","refs","useRef","useState","selectedIds","setSelectedIds","useEffect","forEach","id","current","src","remove","splice","length","onClick","index","card","push","setTimeout","Array","fill","map","_","i","createRef","key","alt","ref","Game","this","props","startGame","React","Component","connect","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","logger","getState","next","action","returnValue","gameReducers","game","started","rootReducers","combineReducers","configureStore","initialState","middlewares","applyMiddleware","thunkMiddleware","createStore","composeWithDevTools","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.2f5d8090.chunk.js","sourcesContent":["export const INIT_GAME = \"INIT_GEME\";\nexport const SET_CARDS = \"SET_CARDS\";\nexport const SET_SCORE = \"SET_SCORE\";\nexport const UPDATE_SCORE = \"UPDATE_SCORE\";\n\nexport const SET_SELECTED_CARD = \"SET_SELECTED_CARD\";\nexport const RESET_SELECTED_CARDS = \"RESET_SELECTED_CARDS\";\n\nexport const SET_MATCHED = \"SET_MATCHED\";\n","import {\n  INIT_GAME,\n  SET_CARDS,\n  SET_MATCHED,\n  SET_SCORE,\n  UPDATE_SCORE,\n} from \"../action_types\";\n\nexport function initGame() {\n  return {\n    type: INIT_GAME,\n  };\n}\n\nexport function setCards(cards) {\n  return {\n    type: SET_CARDS,\n    cards,\n  };\n}\n\nexport function setMatched(matched = 0) {\n  return {\n    type: SET_MATCHED,\n    matched,\n  };\n}\n\nexport function setScore(score) {\n  return {\n    type: SET_SCORE,\n    score,\n  };\n}\n\nexport function updateScore() {\n  return {\n    type: UPDATE_SCORE,\n  };\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst Score = () => {\n  const { score } = useSelector((state) => state);\n  return (\n    <div className=\"score\">\n      Score : <span>{score}</span>\n    </div>\n  );\n};\n\nexport default Score;\n","export const cards = [\n  {\n    name: \"bunny\",\n    path: \"images/bunny.png\",\n  },\n  {\n    name: \"pirate\",\n    path: \"images/pirate.png\",\n  },\n  {\n    name: \"elephant-2\",\n    path: \"images/elephant-2.png\",\n  },\n  {\n    name: \"elephant\",\n    path: \"images/elephant.png\",\n  },\n  {\n    name: \"lamb\",\n    path: \"images/lamb.png\",\n  },\n  {\n    name: \"penguin\",\n    path: \"images/penguin.png\",\n  },\n  {\n    name: \"bunny\",\n    path: \"images/bunny.png\",\n  },\n  {\n    name: \"pirate\",\n    path: \"images/pirate.png\",\n  },\n  {\n    name: \"elephant-2\",\n    path: \"images/elephant-2.png\",\n  },\n  {\n    name: \"elephant\",\n    path: \"images/elephant.png\",\n  },\n  {\n    name: \"lamb\",\n    path: \"images/lamb.png\",\n  },\n  {\n    name: \"penguin\",\n    path: \"images/penguin.png\",\n  },\n];\n","import { setCards, setMatched, updateScore } from \"../Actions/Game\";\nimport { cards } from \"../data\";\n\nlet selectedCards = [];\n\nexport const initCards = () => {\n  return (dispatch) => {\n    dispatch(setCards(cards.sort(() => 0.5 - Math.random())));\n  };\n};\n\nexport const setSelectedCard = (card) => {\n  return (dispatch) => {\n    selectedCards.push(card);\n    if (selectedCards.length === 2) {\n      setTimeout(() => {\n        dispatch(matchCards());\n      }, 800);\n    }\n  };\n};\n\nexport const matchCards = () => {\n  return (dispatch) => {\n    if (selectedCards[0].name === selectedCards[1].name) {\n      console.log(\"You have got a match\");\n      dispatch(setMatched(1));\n      dispatch(updateScore());\n    } else {\n      console.log(\"Please try again\");\n      dispatch(setMatched(-1));\n    }\n\n    selectedCards = [];\n  };\n};\n\nexport default initCards;\n","import React, { createRef, useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setMatched } from \"../Redux/Actions/Game\";\nimport { setSelectedCard } from \"../Redux/Middlewares/Game\";\n\nconst Grid = () => {\n  const { cards, matched } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const refs = useRef([]);\n  const [selectedIds, setSelectedIds] = useState([]);\n\n  useEffect(() => {\n    if (matched === -1) {\n      console.log(selectedIds);\n      selectedIds.forEach((id) => {\n        refs.current[id].current.src = \"images/clouds.jpg\";\n      });\n    } else if (matched === 1) {\n      selectedIds.forEach((id) => {\n        // refs.current[id].current.src = \"images/clouds.jpg\";\n        refs.current[id].current.remove();\n      });\n    }\n    selectedIds.splice(0, selectedIds.length);\n    setSelectedIds(selectedIds);\n    dispatch(setMatched(0));\n  }, [matched, selectedIds, dispatch, refs]);\n\n  const onClick = (index) => {\n    refs.current[index].current.src = cards[index].path;\n    selectedIds.push(index);\n    setSelectedIds(selectedIds);\n\n    dispatch(setSelectedCard(cards[index]));\n  };\n\n  if (refs.length !== cards.length) {\n    // add or remove refs\n    refs.current = Array(cards.length)\n      .fill()\n      .map((_, i) => refs.current[i] || createRef());\n  }\n\n  return (\n    <div className=\"grid\">\n      {cards.map((_, index) => {\n        const key = index;\n        return (\n          <div className=\"card\">\n            <img\n              key={key}\n              src=\"images/clouds.jpg\"\n              alt=\"card\"\n              onClick={() => onClick(index)}\n              ref={refs.current[index]}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Grid;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { initGame } from \"../Redux/Actions/Game\";\nimport Score from \"./Score\";\nimport Grid from \"./Grid\";\nimport initCards from \"../Redux/Middlewares/Game\";\n\nclass Game extends React.Component {\n  componentDidMount() {\n    const { startGame, initCards } = this.props;\n\n    startGame();\n    initCards();\n  }\n\n  render() {\n    return (\n      <div className=\"game\">\n        <Grid />\n        <Score />\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    startGame: () => dispatch(initGame),\n    initCards: () => dispatch(initCards()),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Game);\n","import \"./App.css\";\nimport Game from \"./Components/Game\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Game />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function logger({ getState }) {\n  return (next) => (action) => {\n    console.log(\"will dispatch\", action);\n\n    const returnValue = next(action);\n\n    console.log(\"state after dispatch\", getState());\n\n    return returnValue;\n  };\n}\n\nexport default logger;\n","import {\n  INIT_GAME,\n  SET_CARDS,\n  SET_MATCHED,\n  SET_SCORE,\n  UPDATE_SCORE,\n} from \"../action_types\";\n\nfunction game(state = {}, action) {\n  switch (action.type) {\n    case INIT_GAME:\n      return { started: true };\n    default:\n      return state;\n  }\n}\n\nfunction cards(state = [], action) {\n  switch (action.type) {\n    case SET_CARDS:\n      return action.cards;\n    default:\n      return state;\n  }\n}\n\nfunction matched(state = false, action) {\n  switch (action.type) {\n    case SET_MATCHED:\n      return action.matched;\n    default:\n      return state;\n  }\n}\n\nfunction score(state = 0, action) {\n  switch (action.type) {\n    case SET_SCORE:\n      return action.score;\n    case UPDATE_SCORE:\n      return state + 1;\n    default:\n      return state;\n  }\n}\n\nconst gameReducers = {\n  game,\n  cards,\n  matched,\n  score,\n};\n\nexport default gameReducers;\n","import { combineReducers } from \"redux\";\nimport gameReducers from \"./Game\";\n\nconst rootReducers = combineReducers({\n  ...gameReducers,\n});\n\nexport default rootReducers;\n","import { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunkMiddleware from \"redux-thunk\";\nimport logger from \"./Middlewares/Logger\";\nimport rootReducers from \"./Reducers/index\";\n\nconst configureStore = (initialState) => {\n  const middlewares = applyMiddleware(...[logger, thunkMiddleware]);\n\n  const store = createStore(\n    rootReducers,\n    initialState,\n    composeWithDevTools(middlewares)\n  );\n\n  if (process.env.NODE_ENV !== \"production\" && module.hot) {\n    module.hot.accept(\"./Reducers\", () => store.replaceReducer(rootReducers));\n  }\n\n  return store;\n};\n\nexport default configureStore();\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./Redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}